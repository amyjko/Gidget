<html>

<head>

	<link rel=StyleSheet href="style.css" type="text/css">

	<script type='text/javascript' src='lib/jquery.js'></script>
	<script type='text/javascript' src='runtime.js'></script>
	<script type='text/javascript' src='parser.js'></script>
	<script type='text/javascript' src='things.js'></script>
	<script type='text/javascript' src='ui.js'></script>
	<script type='text/javascript' src='levels.js'></script>
	<script type='text/javascript' src='scenes.js'></script>
	<script type='text/javascript' src='text.js'></script>
	<script type='text/javascript' src='sfx.js'></script>
	<script type='text/javascript' src='intro.js'></script>
	<script type='text/javascript' src='experiment.js'></script>
	
	<!-- This must be last, since it assumes all of the above scripts are loaded -->
	<script type='text/javascript' src='initialize.js'></script>

	<title>Gidget</title>

</head>

<body>
	<div id='container'>
		<div id='titleBar'>
			<span id="titleRight">
				<span><span id='passed'></span> levels passed | </span>
				<span>total bonus <span id='bonus'>0.00</span> | </span>
				<span><button id='quit' onclick='if(GIDGET.ui.getNumberOfLevelsPassed() > 0) $("#quitConfirm").show(); else $("#noCodeYet").show();' title='Pressing this button will quit the game and give you your MTurk code.'>Quit & receive MTurk code</button></span>
			</span>
		</div>
		<div id='content'>
			
			<!-- LEFT PANEL -->
			<div id='leftPanel'>
				<div>
					<h2 title="Instructional code where you can view and modify Gidget's instructional code.">code</h2><span id='commandReset'><button id='reset' onclick='GIDGET.ui.startOver();' title="Pressing this will reset the code to its original state and restart the level.">restore original commands</button></span>
				</div>
				<div>
					<div id='code' class='codeContainer' contentEditable='true'></div>
					<div id='mission'><div id='missionText'></div><button id='missionDismiss' onclick='$("#mission").animate({opacity:0.0}, 500, function() { $(this).hide().css("opacity",1.0); });'>I'm ready to help!</button></div>
				</div>			
					
				<h2 title="This is the area where you can see the set goals required to complete the level.">Goals</h2>
				<div id='goals'></div>
			</div>
			
			<!-- CENTER PANEL -->
			<div id='centerPanel'>
				<h2 title="This is the area where you can see Gidget out in the field.">World</h2>
				<div class='thoughtBubble' id='thingThought'></div>
				<canvas id='grid' width='300' height='300' title="This is Gidget's world! You can give him commands by editing the code in the left panel, and communicate with him in the panels below!"></canvas>
				
				<h2 title="This is the area where you can ask Gidget to execute code and see Gidget's responses.">Communication</h2>
				<div id='learnerThought' class='thoughtBubble'></div>
				<div id='gidgetThought' class='thoughtBubble'></div>
			</div>
			
			<!-- RIGHT PANEL -->
			<div id='rightPanel'>
				<h2 title="This is the area where you can see Gidget's energy level and memory banks.">Gidget</h2>

				<div id='memory'>
					<h2 title="This is Gidget's current energy. Gidget cannot continue if it gets to zero."><span id='energy'></span></h2>
					<h3 title="This shows currently 'scanned' objects in Gidget's memory banks.">Scanned</h3>
					<div class='runtimeInfoContainer' id='scanned'></div>			
					<h3 title="This shows currently 'analyzed' objects in Gidget's memory banks.">Analyzed</h3>
					<div class='runtimeInfoContainer' id='analyzed'></div>	
					<h3 title="This shows objects that are currently 'grabbed' by Gidget.">Grabbed</h3>
					<div class='runtimeInfoContainer' id='grabbed'></div>		
					<h3 title="This shows objects that Gidget is currently 'focused' on.">Focus</h3>
					<div class='runtimeInfoContainer' id='focused'></div>
	
					<h3 title="This shows objects that Gidget is currently examining.">Results</h3>
					<div class='runtimeInfoContainer' id='results'></div					</div>
			</div>
		</div><div style="clear: both;"></div>
	</div>

	<div class='introBox' id='intro'>

<!--
		<p>Welcome to the world of Gidget! Your mission, if you choose to accept it, is to help the new robot Gidget with the cleanup process from a major disaster. He is one of the highest functioning robots. While you shouldn't have any problems with him, we do want a human to monitor his work and help with any maintenance or other issues that arise.
		
		<div style='text-align:right'><button onclick='$("#welcome").hide()'>Let's get started!</button></div>
-->

		<canvas id='introCanvas' width='640' height='480'></canvas>

	</div>


	<div class='popup' id='quitResults'></div>

	<div class='popup' id='noCodeYet'>
	
		<p>You will not receive an MTurk code until you've completed at least the first level.</p>

		<button onclick='$("#noCodeYet").hide();"'>Okay</button>
	
	</div>

	<div class='popup' id='quitConfirm'>
		<h2>Quit & Receive MTurk Code</h2>
		<p>Are you sure you want to quit?</p><p>You will receive your MTurk code but you <b>will not be able to return</b> to play the game.</p>
		<p class='align-right'>
			<button onclick='$("#quitConfirm").hide()'>No, I don't want to quit!</button>
			<button onclick='$("#quitConfirm").hide(); GIDGET.ui.quit("Okay.")'>Yes, I give up.</button>
		</p>
	
	</div>
		
	<div class='popup' id='debug'>
		<h2>Debug Menu</h2>
		<p><button id='playIntro'>play intro</button></p>
		<p>Choose a level:<br /><select id='levels'></select>  <button id='gotoNextLevel'>next</button><br /><button id='clearLocalStorage'>Reset progress</button></p>
		<p>Experimental Options: </p>
		<p><button id='setCondControl'>control</button> <button id='setCondMale'>male &#9794;</button> <button id='setCondFemale'>female &#9792;</button></p>
	</div>

	<div class='popup' id='loadingIntro'>
		<div class='progress'>loading...</div>
	</div>

</body>

</html>