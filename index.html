<html>

<head>

	<link rel=StyleSheet href="style.css" type="text/css">

	<script type='text/javascript' src='lib/jquery.js'></script>
	<script type='text/javascript' src='lib/jquery.timers-1.2.js'></script>
	<script type='text/javascript' src='runtime.js'></script>
	<script type='text/javascript' src='parser.js'></script>
	<script type='text/javascript' src='things.js'></script>
	<script type='text/javascript' src='ui.js'></script>
	<script type='text/javascript' src='media.js'></script>
	<script type='text/javascript' src='levels.js'></script>
	<script type='text/javascript' src='scenes.js'></script>
	<script type='text/javascript' src='text.js'></script>
	<script type='text/javascript' src='intro.js'></script>
	<script type='text/javascript' src='experiment.js'></script>
	
	<!-- This must be last, since it assumes all of the above scripts are loaded -->
	<script type='text/javascript' src='initialize.js'></script>

	<title>Gidget</title>

</head>

<body>

	<div id='container'>
		<div id='titleBar'>
		<span id="levelTitle"></span>
			<span id="titleRight">
				<span><span id='passed'></span> levels passed | </span>
				<span>total bonus <span id='bonus'>0.00</span> | </span>
				<span><button id='quit' onclick='if(GIDGET.ui.getNumberOfLevelsPassed() > 0) $("#quitConfirm").show(); else $("#noCodeYet").show();' title='Pressing this button will quit the game and give you your MTurk code.'>Quit & receive MTurk code</button></span>
			</span>
		</div>
		<div id='content'>
			
			<!-- LEFT PANEL -->
			<div id='leftPanel'>
			
				<div id='instructionsContainer'>
			
				<div>
					<h2 title="Instructional code where you can view and modify Gidget's instructional code." style="display:inline-block;">instructions</h2><span id='commandReset'><button id='reset' onclick='hideToolTip(); GIDGET.ui.setCodeToWorldDefault();' title="Pressing this will reset the code to its original state and restart the level.">restore original instructions</button></span>
				</div>
				<div id='codeMissionContainer'>
				
					<div id='cheatsheet'>
						<div id='cheat-scan' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>scan </span><span class='sourceToken identifier'>thing</span></div>
							<div class='cheatsheetExplanation'>Enables Gidget to <span class='sourceToken keyword'>goto</span> a thing.</div>
						</div>
						<div id='cheat-goto' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>goto </span><span class='sourceToken identifier'>thing </span><span class='sourceToken optional'>avoid thing</span></div>
							<div class='cheatsheetExplanation'>Moves Gidget to all of the things matching the name <span class='sourceToken identifier'>thing</span>. If a thing to avoid is supplied, Gidget tries to find a path that avoids things with the given name.</div>
						</div>
						<div id='cheat-ask' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>ask </span><span class='sourceToken identifier'>thing</span> <span class='sourceToken keyword'>to </span><span class='sourceToken identifier'>action </span><span class='sourceToken optional'>things...</span></div>
							<div class='cheatsheetExplanation'>Causes thing to perform an action.</div>
						</div>
						<div id='cheat-analyze' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>analyze </span><span class='sourceToken identifier'>thing</span></div>
							<div class='cheatsheetExplanation'>Enables Gidget to ask a thing to perform an action.</div>
						</div>
						<div id='cheat-grab' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>grab </span><span class='sourceToken identifier'>thing</span></div>
							<div class='cheatsheetExplanation'>Enables Gidget to move with a thing.</div>
						</div>
						<div id='cheat-drop' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>drop </span><span class='sourceToken identifier'>thing</span></div>
							<div class='cheatsheetExplanation'>Stops grabbing a thing.</div>
						</div>
						<div id='cheat-if' class='cheatsheetItem'>
							<div class='sourceLine'><span class='sourceToken keyword'>if </span><span class='sourceToken identifier'>thing </span><span class='sourceToken keyword'>is(n't) </span><span class='sourceToken identifier'>aspect</span>, ...</div>
							<div class='cheatsheetExplanation'>Only executes step if the thing has the specified aspect.</div>
						</div>
					</div>

				
					<div id='code' class='codeContainer' contentEditable='true'></div>
					
					<button id='toggleCheatsheet'><b>?</b></button>
					
					<div id='mission'><div id='missionText'></div><button id='missionDismiss' onclick='$("#mission").animate({opacity:0.0}, 500, function() { $(this).hide().css("opacity",1.0); });'>I'm ready to help!</button></div>

				</div>

				<!-- End of instructions container -->
				</div>
					
				<!--<h2 title="This is the area where you can see the set goals required to complete the level.">Goals</h2>-->
				<div id='goals' class='infoPanel'></div>
				
				
				<!-- Learner's Thought Bubble -->
				<div id='learnerThought' class='bubbleText'></div>
			</div>
			
			
			<!-- CENTER PANEL -->
			<div id='centerPanel'>
			
				<div id='worldContainer'>
			
					<h2 title="This is the area where you can see Gidget out in the field.">World</h2>
					<div class='thoughtBubbleThing' id='thingThought'></div>
					<canvas id='grid' width='300' height='300' title="This is Gidget's world! You can give him commands by editing the code in the left panel, and communicate with him in the panels below!"></canvas>
				
				</div>
				
				<!-- Gidget's Thought Bubble -->
				<div id='gidgetThought' class='bubbleText'></div>
				
			</div>
			
			<!-- RIGHT PANEL -->
			<div id='rightPanel'>
			
				<h2 id="memoryBoxHeading" title="This is the area where you can see Gidget's energy level and memory banks."></h2>

				<div id='memory' class='infoPanel'>
					<h2 title="This is Gidget's current energy. Gidget cannot continue if it gets to zero."><span id='energy'></span></h2>
					<h3 title="This shows currently 'scanned' objects in Gidget's memory banks.">Scanned</h3>
					<div class='runtimeInfoContainer' id='scanned'></div>			
					<h3 title="This shows currently 'analyzed' objects in Gidget's memory banks.">Analyzed</h3>
					<div class='runtimeInfoContainer' id='analyzed'></div>	
					<h3 title="This shows objects that are currently 'grabbed' by Gidget.">Grabbed</h3>
					<div class='runtimeInfoContainer' id='grabbed'></div>		
					<h3 title="This shows objects that Gidget is currently 'focused' on.">Focus</h3>
					<div class='runtimeInfoContainer' id='focused'></div>
	
					<h3 title="This shows objects that Gidget is currently examining.">Results</h3>
					<div class='runtimeInfoContainer' id='results'></div>
			</div>

			<!-- Forces container to fit to height -->
			<div style="clear: both;"></div>

		<!-- End content -->
		</div>

		<div style="clear: both;"></div>

	</div>
	
	</div>

	<div class='popup' id='quitResults'></div>

	<div class='popup' id='noCodeYet'>
	
		<p>You will not receive an MTurk code until you've completed at least the first level.</p>

		<button onclick='$("#noCodeYet").hide();"'>Okay</button>
	
	</div>

	<div class='popup' id='quitConfirm'>
		<h2>Quit & Receive MTurk Code</h2>
		<p>Are you sure you want to quit?</p><p>You will receive your MTurk code but you <b>will not be able to return</b> to play the game.</p>
		<p class='align-right'>
			<button onclick='$("#quitConfirm").hide()'>No, I don't want to quit!</button>
			<button onclick='$("#quitConfirm").hide(); $("#postSurvey").show()'>Yes, I give up.</button>
		</p>
	
	</div>
	
	<div class='popup' id='postSurvey'>
	  <h2>Survey</h2>

      <form id="postQuiz" name="postQuiz" onsubmit='GIDGET.ui.quit("Okay.")'>
        <table>
          <tr>
            <td valign="middle" ><b>1) Are you male or female?</b><br />
              <input type="radio" name="gender" value="male" /> Male<br />
              <input type="radio" name="gender" value="female" /> Female<br />
              <input type="radio" name="gender" value="uspecified" /> Prefer not to say
            </td>
          </tr>
          <tr>
            <td valign="middle" ><b>2) What is your age?</b><br />
              <p>
              <label>
                <input name="age" type="text" id="age" size="2" maxlength="2" />
              </label>
            years old</p>
            </td>
          </tr>
          <tr>
            <td valign="middle" ><b>3) What is the highest level of education you have <i>completed?</i></b><br />
              <select name="education">
                <option value="" selected="selected">-- Select Here --</option>
                <option value="0"> Less than High School </option>
                <option value="1"> High School/GED </option>
                <option value="2"> Some College </option>
                <option value="3"> 2-Year College Degree (Associates) </option>
                <option value="4"> 4-Year College Degree (BA, BS) </option>
                <option value="5"> Master's Degree </option>
                <option value="6"> Doctoral Degree (PhD, EdD) </option>
                <option value="7"> Professional Degree (MD, JD, PharmD) </option>
              </select></td>
          </tr>
          <tr>
            <td valign="middle" ><b>4) Prior to playing this game (check all that apply)</b>:
              <p>
                <label>
                  <input name="experience1" type="checkbox" value="webCourse" />
                  I have taken a website design course</label>
              </p>
              <p>
                <label>
                  <input name="experience2" type="checkbox" value="csCourse" />
                  I have taken a computer programming course</label>
              </p>
              <p>
                <label>
                  <input name="experience3" type="checkbox" value="madeWebsite" />
                  I have made a website from scratch</label>
              </p>
              <p>
                <label>
                  <input name="experience4" type="checkbox" value="customizedWebsite" />
                  I have modified or customized an existing webpage using HTML and/or CSS (e.g. myspace)</label>
              </p>
              <p>
                <label>
                  <input name="experience5" type="checkbox" value="madeSimpleProgram" />
                  I have written a simple computer program</label>
              </p>
              <p>
                <label>
                  <input name="experience6" type="checkbox" value="madeApplication" />
                  I have written or contributed to developing software</label>
              </p></td>
          </tr>
          <tr>
            <td valign="middle" ><p><b>5) I enjoyed playing the game.</b></p>
              <p>
                <input type="radio" name="enjoyment" value="2" /> Strongly Agree<br />
                <input type="radio" name="enjoyment" value="1" /> Agree<br />
                <input type="radio" name="enjoyment" value="0" /> Undecided <br />
                <input type="radio" name="enjoyment" value="-1" /> Disagree <br />
                <input type="radio" name="enjoyment" value="-2" /> Strongly Disagree</p></td>
          </tr>
          <tr>
            <td valign="middle" ><p><b>6) I wanted to help Gidget succeed.</b></p>
              <p>
                <input type="radio" name="helpGidget" value="2" /> Strongly Agree<br />
                <input type="radio" name="helpGidget" value="1" /> Agree<br />
                <input type="radio" name="helpGidget" value="0" /> Undecided <br />
                <input type="radio" name="helpGidget" value="-1" /> Disagree <br />
                <input type="radio" name="helpGidget" value="-2" /> Strongly Disagree</p></td>
          </tr>
          <tr>
            <td valign="middle" ><p><b>7) Please give us detailed feedback about your experience running through these tasks. What did you find enjoyable? What did you find difficult? Do you any suggestions about how we could improve it?</b></p>
              <p>
				<textarea name="comments" cols="50" rows="10"></textarea>
				<br>
              </p>
            </td>
          </tr>
          <tr>
            <td valign="middle" ><label>
              <input class="align-right" type="submit" name="submit" id="submit" value="Submit and receive MTurk code" />
            </label></td>
          </tr>
        </table>
      </form>
	</div>
		
	<div class='introBox' id='intro'>

<!--
		<p>Welcome to the world of Gidget! Your mission, if you choose to accept it, is to help the new robot Gidget with the cleanup process from a major disaster. He is one of the highest functioning robots. While you shouldn't have any problems with him, we do want a human to monitor his work and help with any maintenance or other issues that arise.
		
		<div style='text-align:right'><button onclick='$("#welcome").hide()'>Let's get started!</button></div>
-->

		<canvas id='introCanvas' width='640' height='480'></canvas>

	</div>

	<div class='popup' id='debug'>
		<h2>Debug Menu</h2>
		<p><button id='playIntro'>play intro</button></p>
		<p>Choose a level:<br /><select id='levels'></select>  <button id='gotoNextLevel'>next</button><br /><button id='clearLocalStorage'>Reset progress</button></p>
		<p>Condition: </p>
		<p><button id='setCondControl'>control</button> <button id='setCondFemale'>experimental &#9792;/&#9794;</button></p>
	</div>

	<div class='popup' id='loadingIntro'>
		<div class='progress'></div>
	</div>

		
</body>

</html>